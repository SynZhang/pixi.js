<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Filters</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #fff;
      }
    </style>

    <script src="dat.gui.min.js"></script>
    <script src="../../bin/pixi.js"></script>
  </head>
  <body>
    <script>
      var renderer = new PIXI.WebGLRenderer(640, 640);

      renderer.view.style.position = "absolute";
      renderer.view.style.width = window.innerHeight + "px";
      renderer.view.style.height = window.innerHeight + "px";
      renderer.view.style.display = "block";

      document.body.appendChild(renderer.view);

      var filtersSwitchs = [false, false, false, false, false, false, false, false, false, false, false, false, false];
      var gui = new dat.GUI({
        // height: 5 * 32 - 1,
        // width: 350
      });

      // Universal Filter

      var universalFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Universal.png"));
      var universalFolder = gui.addFolder('Universal');

      universalFolder.add(filtersSwitchs, '0').name("apply");

      // Future Filter

      var futureFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Future.png"));
      var futureFolder = gui.addFolder('Future');

      futureFolder.add(filtersSwitchs, '1').name("apply");

      // Surreal Filter

      var surrealFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Surreal.png"));
      var surrealFolder = gui.addFolder('Surreal');

      surrealFolder.add(filtersSwitchs, '2').name("apply");

      // Mechanical Filter

      var mechanicalFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Mechanical.png"));
      var mechanicalFolder = gui.addFolder('Mechanical');

      mechanicalFolder.add(filtersSwitchs, '3').name("apply");

      // Techie Filter

      var techieFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Techie.png"));
      var techieFolder = gui.addFolder('Techie');

      techieFolder.add(filtersSwitchs, '4').name("apply");

      // Fashion Filter

      var fashionFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Fashion.jpg"));
      var fashionFolder = gui.addFolder('Fashion');

      fashionFolder.add(filtersSwitchs, '5').name("apply");

      // Toy Filter

      var toyFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Toy.jpg"));
      var toyFolder = gui.addFolder('Toy');

      toyFolder.add(filtersSwitchs, '6').name("apply");

      // Vintage Filter

      var vintageFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Vintage.png"));
      var vintageFolder = gui.addFolder('Vintage');

      vintageFolder.add(filtersSwitchs, '7').name("apply");

      // Sci-Fi Filter

      var scifiFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Sci-Fi.png"));
      var scifiFolder = gui.addFolder('Sci-Fi');

      scifiFolder.add(filtersSwitchs, '8').name("apply");

      // Cyber Filter

      var cyberFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Cyber.png"));
      var cyberFolder = gui.addFolder('Cyber');

      cyberFolder.add(filtersSwitchs, '9').name("apply");

      // Ruby Filter

      var rubyFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Ruby.jpg"));
      var rubyFolder = gui.addFolder('Ruby');

      rubyFolder.add(filtersSwitchs, '10').name("apply");

      // Sapphire Filter

      var sapphireFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Sapphire.jpg"));
      var sapphireFolder = gui.addFolder('Sapphire');

      sapphireFolder.add(filtersSwitchs, '11').name("apply");

      // Cosmos Filter

      var cosmosFilter = new PIXI.filters.LookupFilter(PIXI.Texture.fromImage("lut/Cosmos.png"));
      var cosmosFolder = gui.addFolder('Cosmos');

      cosmosFolder.add(filtersSwitchs, '12').name("apply");

      var filterCollection = [universalFilter, futureFilter, surrealFilter, mechanicalFilter, techieFilter, fashionFilter, toyFilter, vintageFilter, scifiFilter, cyberFilter, rubyFilter, sapphireFilter, cosmosFilter];
      var container = new PIXI.Container();

      var image = PIXI.Sprite.fromImage("image.jpg");
      container.addChild(image);

      var switchy = false;

      requestAnimationFrame(animate);

      function animate() {
        var filtersToApply = [];

        for (var i = 0; i < filterCollection.length; i++) {
          if(filtersSwitchs[i])filtersToApply.push(filterCollection[i]);
        };

        container.filters = filtersToApply.length > 0 ? filtersToApply : null;

        renderer.render(container);
        requestAnimationFrame(animate);
      }
    </script>
  </body>
</html>
